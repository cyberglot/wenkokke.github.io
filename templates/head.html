<head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>$title$</title>

    <!-- CSS -->
    <link rel="stylesheet" href="/public/css/style.css">

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml">

    <script>
     document.addEventListener("DOMContentLoaded", function () {
         const citations = document.querySelectorAll('.citation');
         for (let citationSpan of citations) {
             const firstRefId = citationSpan.getAttribute('DATA-CITES').split(' ');
             const citationLink = document.createElement('A');
             citationLink.innerHTML = citationSpan.innerHTML;
             citationLink.setAttribute('href', '#'+firstRefId);
             citationSpan.replaceWith(citationLink);
         }
     });
    </script>

    <!-- KaTeX -->
    <script defer src="/public/js/katex.min.js"></script>
    <script>
     document.addEventListener("DOMContentLoaded", function () {
         const mathElements = document.getElementsByClassName("math");
         const macros = [];
         for (var i = 0; i < mathElements.length; i++) {
             const texText = mathElements[i].firstChild;
             if (mathElements[i].tagName == "SPAN") {
                 katex.render(texText.data, mathElements[i], {
                     displayMode: mathElements[i].classList.contains('display'),
                     throwOnError: false,
                     macros: macros,
                     fleqn: true
                 });
             }
         }
     });
    </script>

    $if(twitter)$
    <!-- Twitter -->
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    $endif$
</head>
